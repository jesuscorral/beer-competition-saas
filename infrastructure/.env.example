# =============================================================================
# Beer Competition SaaS - Local Development Environment Variables
# =============================================================================
# Copy this file to .env and update values for your local environment
# NEVER commit .env file to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL Configuration
# -----------------------------------------------------------------------------
# Primary database for all services with multi-tenant data isolation
POSTGRES_USER=dev_user
POSTGRES_PASSWORD=dev_password
POSTGRES_DB=beercomp
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# pgAdmin Configuration
# -----------------------------------------------------------------------------
# Web-based PostgreSQL management interface
# Access at: http://localhost:5050
PGADMIN_EMAIL=admin@beercomp.dev
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# Connection details for pgAdmin (manual setup):
# Host: postgres (Docker internal network)
# Port: 5432
# Database: beercomp
# Username: dev_user
# Password: dev_password

# -----------------------------------------------------------------------------
# RabbitMQ Configuration
# -----------------------------------------------------------------------------
# Message broker for event-driven architecture
# Management UI: http://localhost:15672
# Credentials: dev_user / dev_password
RABBITMQ_USER=dev_user
RABBITMQ_PASSWORD=dev_password
RABBITMQ_VHOST=/
RABBITMQ_PORT=5672
RABBITMQ_MGMT_PORT=15672

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Distributed cache for session management and rate limiting
REDIS_PASSWORD=dev_password
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Keycloak Configuration
# -----------------------------------------------------------------------------
# OpenID Connect authentication provider
# Admin console: http://localhost:8080/admin
# Admin credentials: admin / admin
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin
KEYCLOAK_PORT=8080

# Keycloak realm configuration (to be created manually or via import)
KEYCLOAK_REALM=beercomp
KEYCLOAK_CLIENT_ID=backend-api
KEYCLOAK_CLIENT_SECRET=<generate-after-realm-setup>

# -----------------------------------------------------------------------------
# Application Service Configuration (Future)
# -----------------------------------------------------------------------------
# These will be used by .NET services when implemented

# Competition Service
COMPETITION_SERVICE_PORT=5001
COMPETITION_SERVICE_URL=http://localhost:5001

# Judging Service
JUDGING_SERVICE_PORT=5002
JUDGING_SERVICE_URL=http://localhost:5002

# BFF / API Gateway
BFF_PORT=5000
BFF_URL=http://localhost:5000

# Analytics Service (Post-MVP)
ANALYTICS_SERVICE_PORT=8000
ANALYTICS_SERVICE_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# Observability (Future)
# -----------------------------------------------------------------------------
# Azure Application Insights (optional for local dev)
APPLICATIONINSIGHTS_CONNECTION_STRING=

# OpenTelemetry Collector endpoint (optional)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# -----------------------------------------------------------------------------
# Development Flags
# -----------------------------------------------------------------------------
# Set to 'Development' for detailed error messages
ASPNETCORE_ENVIRONMENT=Development

# Enable detailed logging (trace level)
LOG_LEVEL=Debug

# Disable HTTPS redirect in local development
ASPNETCORE_URLS=http://+:5000

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
# 1. All passwords here are for LOCAL DEVELOPMENT ONLY
# 2. Production environments MUST use Azure Key Vault or similar secrets management
# 3. After first run, Keycloak stores config in PostgreSQL database
# 4. RabbitMQ data persists in Docker volume (survives container restarts)
# 5. To reset all data: docker-compose down -v (WARNING: deletes all volumes)
