# =============================================================================
# Beer Competition SaaS - Local Development Environment Variables
# =============================================================================
# Copy this file to .env and update values for your local environment
# NEVER commit .env file to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL Configuration
# -----------------------------------------------------------------------------
# Primary database for all services with multi-tenant data isolation
POSTGRES_USER=<your-username>
POSTGRES_PASSWORD=<your-password>
POSTGRES_DB=beercomp
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# pgAdmin Configuration
# -----------------------------------------------------------------------------
# Web-based PostgreSQL management interface
# Access at: http://localhost:5050
PGADMIN_EMAIL=admin@beercomp.dev
PGADMIN_PASSWORD=<your-password>
PGADMIN_PORT=5050

# Connection details for pgAdmin (manual setup):
# Host: postgres (Docker internal network)
# Port: 5432
# Database: beercomp
# Username: <from POSTGRES_USER above>
# Password: <from POSTGRES_PASSWORD above>

# -----------------------------------------------------------------------------
# RabbitMQ Configuration
# -----------------------------------------------------------------------------
# Message broker for event-driven architecture
# Management UI: http://localhost:15672
# Credentials: <from RABBITMQ_USER / RABBITMQ_PASSWORD>
RABBITMQ_USER=<your-username>
RABBITMQ_PASSWORD=<your-password>
RABBITMQ_VHOST=/
RABBITMQ_PORT=5672
RABBITMQ_MGMT_PORT=15672

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Distributed cache for session management and rate limiting
REDIS_PASSWORD=<your-password>
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Keycloak Configuration
# -----------------------------------------------------------------------------
# OpenID Connect authentication provider
# Admin console: http://localhost:8080/admin
# Admin credentials: <from KEYCLOAK_ADMIN / KEYCLOAK_ADMIN_PASSWORD>
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=<your-password>
KEYCLOAK_PORT=8080

# Keycloak realm configuration (to be created manually or via import)
KEYCLOAK_REALM=beercomp
KEYCLOAK_CLIENT_ID=backend-api
KEYCLOAK_CLIENT_SECRET=<your-client-secret>

# -----------------------------------------------------------------------------
# Application Service Configuration (Future)
# -----------------------------------------------------------------------------
# These will be used by .NET services when implemented

# Competition Service
COMPETITION_SERVICE_PORT=5001
COMPETITION_SERVICE_URL=http://localhost:5001

# Judging Service
JUDGING_SERVICE_PORT=5002
JUDGING_SERVICE_URL=http://localhost:5002

# BFF / API Gateway
BFF_PORT=5000
BFF_URL=http://localhost:5000

# Analytics Service (Post-MVP)
ANALYTICS_SERVICE_PORT=8000
ANALYTICS_SERVICE_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# Observability (Future)
# -----------------------------------------------------------------------------
# Azure Application Insights (optional for local dev)
APPLICATIONINSIGHTS_CONNECTION_STRING=

# OpenTelemetry Collector endpoint (optional)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# -----------------------------------------------------------------------------
# Development Flags
# -----------------------------------------------------------------------------
# Set to 'Development' for detailed error messages
ASPNETCORE_ENVIRONMENT=Development

# Enable detailed logging (trace level)
LOG_LEVEL=Debug

# Disable HTTPS redirect in local development
ASPNETCORE_URLS=http://+:5000

# -----------------------------------------------------------------------------
# IMPORTANT SECURITY NOTES
# -----------------------------------------------------------------------------
# 1. All passwords here are PLACEHOLDERS - replace with your own values
# 2. NEVER commit the .env file to version control (it's in .gitignore)
# 3. For local development, simple passwords are acceptable
# 4. Production environments MUST use:
#    - Azure Key Vault for secrets management
#    - Managed identities instead of passwords
#    - Complex passwords with rotation policies
# 5. Default values in docker-compose.yml are for convenience only
#    - Override them in your .env file for better security
# 6. RabbitMQ data persists in Docker volume (survives container restarts)
# 7. To reset all data: docker-compose down -v (WARNING: deletes all volumes)
